{"is_source_file": true, "format": "bash", "description": "A shell script for database performance monitoring and optimization, including functions for analyzing table sizes, index usage, slow queries, database statistics, and running vacuum analyze commands.", "external_files": ["/usr/lib/postgresql/", "/usr/lib/postgresql/{version}/bin", "psql", "pg_isready", "pg_stat_statements"], "external_methods": ["pg_size_pretty", "pg_total_relation_size", "pg_relation_size", "pg_stat_user_indexes", "pg_stat_user_tables", "pg_database_size", "current_database", "vacuum", "analyze", "pg_tables", "pg_indexes", "users", "trips", "bookings"], "published": ["analyze_table_sizes", "analyze_index_usage", "analyze_slow_queries", "analyze_db_stats", "optimize_database", "suggest_indexes", "check_database_health", "show_usage"], "classes": [], "methods": [{"name": "analyze_table_sizes", "description": "Analyzes and displays sizes of all tables in the database."}, {"name": "analyze_index_usage", "description": "Analyzes and displays index usage statistics."}, {"name": "analyze_slow_queries", "description": "Displays slow query performance statistics."}, {"name": "analyze_db_stats", "description": "Provides overall database statistics including size and counts of entities."}, {"name": "optimize_database", "description": "Runs VACUUM ANALYZE on all tables to optimize performance."}, {"name": "suggest_indexes", "description": "Provides suggestions for index optimization based on table scan statistics."}, {"name": "check_database_health", "description": "Checks for dead tuples and bloated tables to assess database health."}, {"name": "show_usage", "description": "Displays usage information and command options for the script."}], "calls": ["sudo -u postgres ${PG_BIN}/pg_isready -p ${DB_PORT}", "PGPASSWORD=\"${DB_PASSWORD}\" ${PG_BIN}/psql -h localhost -p ${DB_PORT} -U ${DB_USER} -d ${DB_NAME}", "pg_stat_user_indexes", "pg_stat_user_tables", "pg_size_pretty", "pg_total_relation_size", "pg_relation_size", "current_database", "pg_database_size", "pg_size_pretty(pg_database_size(pg_database.datname))", "pg_stat_statements", "vacuum analyze"], "search-terms": ["database performance", "PostgreSQL", "database optimization script", "vacuum analyze", "index usage analysis", "slow queries", "database health check", "table size analysis", "index statistics"], "state": 2, "file_id": 16, "knowledge_revision": 37, "git_revision": "ec518df79fb0d84dec3a4ec0a17c4776ae15e1cc", "hash": "5fd0a9e7e5da4d807af8ca068a16adf5", "format-version": 4, "code-base-name": "blablabil_database", "filename": "blablabil_database/optimize.sh", "revision_history": [{"37": "ec518df79fb0d84dec3a4ec0a17c4776ae15e1cc"}]}